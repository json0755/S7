# ğŸ”§ å‰ç«¯é…ç½®é—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸ¯ **é—®é¢˜åˆ†æ**

### **å½“å‰çŠ¶æ€**
- âœ… **TOKEN_ADDRESS**: `0x7b661cAc90464E6ca990bb95E66f178ce9F0189F` (å·²æ›´æ–°)
- â“ **TOKENBANK_ADDRESS**: `0x1301D57eF3763fdd2DFd7f7e8684d718A4698fD0` (éœ€éªŒè¯)
- âœ… **PERMIT2_ADDRESS**: `0x769DA7B0919FF7ADe64bc556B2f52b434E11E82c` (å·²æ›´æ–°)

### **é”™è¯¯è§£é‡Š**
```
âŒ ç”¨æˆ·æœªæˆæƒPermit2åˆçº¦
```
è¿™ä¸ªé”™è¯¯æ˜¯**å®Œå…¨æ­£å¸¸çš„**ï¼è¡¨ç¤ºï¼š
- ğŸ”„ ç”¨æˆ·ç¬¬ä¸€æ¬¡ä½¿ç”¨Permit2åŠŸèƒ½
- ğŸ” éœ€è¦å…ˆè¿›è¡Œæˆæƒæ“ä½œ
- âœ… è¿™æ˜¯Permit2çš„æ ‡å‡†å®‰å…¨æµç¨‹

## ğŸ› ï¸ **è§£å†³æ­¥éª¤**

### **ç¬¬1æ­¥ï¼šéƒ¨ç½²æ–°çš„TokenBankåˆçº¦**

ä½ çš„TokenBankè„šæœ¬å·²ç»æ›´æ–°ä½¿ç”¨æ–°tokenåœ°å€ï¼Œç°åœ¨éœ€è¦éƒ¨ç½²ï¼š

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export RPC_URL="https://sepolia.infura.io/v3/YOUR_API_KEY"
export PRIVATE_KEY="YOUR_PRIVATE_KEY"

# éƒ¨ç½²TokenBank (ä½¿ç”¨æ–°tokenåœ°å€)
forge script script/TokenBank.s.sol \
  --rpc-url $RPC_URL \
  --private-key $PRIVATE_KEY \
  --verify --broadcast -vvv
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… TokenBank address: 0xæ–°åœ°å€
âœ… Token address: 0x7b661cAc90464E6ca990bb95E66f178ce9F0189F
âœ… Permit2 address: 0x769DA7B0919FF7ADe64bc556B2f52b434E11E82c
```

### **ç¬¬2æ­¥ï¼šæ›´æ–°å‰ç«¯TokenBankåœ°å€**

åœ¨ `tokenbank-front/src/app/page.tsx` ç¬¬11è¡Œï¼š
```javascript
// æ›´æ–°ä¸ºæ–°éƒ¨ç½²çš„TokenBankåœ°å€
const TOKENBANK_ADDRESS = "0xæ–°éƒ¨ç½²çš„TokenBankåœ°å€" as `0x${string}`;
```

### **ç¬¬3æ­¥ï¼šé‡æ–°å¯åŠ¨å‰ç«¯**

```bash
cd tokenbank-front
npm run dev
```

### **ç¬¬4æ­¥ï¼šæ­£å¸¸çš„æˆæƒæµç¨‹**

ç°åœ¨å‰ç«¯åº”è¯¥ä¼šæ˜¾ç¤ºï¼š
```
âœ… åˆçº¦é…ç½®éªŒè¯é€šè¿‡
âš ï¸ éœ€è¦Permit2æˆæƒ (è¿™æ˜¯æ­£å¸¸çš„!)
```

## ğŸ§ª **æµ‹è¯•æµç¨‹**

### **Permit2é¦–æ¬¡ä½¿ç”¨æµç¨‹**
1. **æ‰“å¼€é¡µé¢** - é€‰æ‹©"Permit2ç­¾åå­˜æ¬¾"
2. **ç¬¬ä¸€æ¬¡ç‚¹å‡»"å­˜æ¬¾"** - ä¼šæç¤ºéœ€è¦æˆæƒ
3. **ç‚¹å‡»"æˆæƒPermit2"** - MetaMaskå¼¹å‡ºæˆæƒäº¤æ˜“
4. **ç¡®è®¤æˆæƒäº¤æ˜“** - ç­‰å¾…åŒºå—ç¡®è®¤
5. **è‡ªåŠ¨è¿›è¡Œå­˜æ¬¾** - ç­¾å+å­˜æ¬¾ä¸€æ­¥å®Œæˆ
6. **éªŒè¯ä½™é¢æ›´æ–°** - ç¡®è®¤å­˜æ¬¾æˆåŠŸ

### **åç»­ä½¿ç”¨**
æˆæƒä¸€æ¬¡åï¼Œä»¥åä½¿ç”¨Permit2åªéœ€è¦ï¼š
- é€‰æ‹©é‡‘é¢ â†’ ç‚¹å‡»å­˜æ¬¾ â†’ ç­¾åç¡®è®¤ âœ…

## ğŸ” **éªŒè¯æ£€æŸ¥é¡¹**

### **é…ç½®éªŒè¯**
åœ¨æµè§ˆå™¨æ§åˆ¶å°åº”è¯¥çœ‹åˆ°ï¼š
```javascript
âœ… ChainIdéªŒè¯é€šè¿‡: 11155111
âœ… TOKENåœ°å€åŒ¹é…
âœ… PERMIT2åœ°å€åŒ¹é…  
âœ… TOKENBANKé…ç½®æ­£ç¡®
```

### **æˆæƒçŠ¶æ€æ£€æŸ¥**
```javascript
// ç¬¬ä¸€æ¬¡ä½¿ç”¨ä¼šæ˜¾ç¤º
âš ï¸ ç”¨æˆ·æœªæˆæƒPermit2åˆçº¦ (æ­£å¸¸çŠ¶æ€)

// æˆæƒåä¼šæ˜¾ç¤º  
âœ… å·²æˆæƒPermit2: å…è®¸é¢åº¦ > 0
```

## ğŸš¨ **å¦‚æœä»æœ‰é—®é¢˜**

### **æ£€æŸ¥Tokenä½™é¢**
ç¡®ä¿è¿æ¥çš„è´¦æˆ·æœ‰è¶³å¤Ÿçš„Tokenä½™é¢ï¼š
```bash
# ä½¿ç”¨castæ£€æŸ¥ä½™é¢
cast call 0x7b661cAc90464E6ca990bb95E66f178ce9F0189F \
  "balanceOf(address)" YOUR_ADDRESS \
  --rpc-url $RPC_URL
```

### **æ£€æŸ¥ç½‘ç»œè¿æ¥**
- MetaMaskè¿æ¥åˆ°Sepolia (Chain ID: 11155111)
- RPCè¿æ¥æ­£å¸¸
- æœ‰è¶³å¤Ÿçš„Sepolia ETHåšGas

### **é‡ç½®æˆæƒ (å¦‚éœ€è¦)**
å¦‚æœæˆæƒçŠ¶æ€å¼‚å¸¸ï¼Œå¯ä»¥é‡ç½®ï¼š
```bash
# æ’¤é”€Permit2æˆæƒ
cast send 0x7b661cAc90464E6ca990bb95E66f178ce9F0189F \
  "approve(address,uint256)" \
  0x769DA7B0919FF7ADe64bc556B2f52b434E11E82c \
  0 \
  --rpc-url $RPC_URL --private-key $PRIVATE_KEY
```

## ğŸ‰ **æˆåŠŸæ ‡å¿—**

å½“ä½ çœ‹åˆ°ï¼š
- âœ… å‰ç«¯åŠ è½½æ— é”™è¯¯
- âœ… åˆçº¦é…ç½®éªŒè¯é€šè¿‡
- âœ… Permit2æˆæƒæµç¨‹å®Œæˆ
- âœ… å­˜æ¬¾äº¤æ˜“æˆåŠŸ
- âœ… ä½™é¢æ­£ç¡®æ›´æ–°

**æ­å–œï¼Permit2åŠŸèƒ½å®Œå…¨æ­£å¸¸å·¥ä½œï¼** ğŸš€

---

## ğŸ“‹ **å¿«é€Ÿå‘½ä»¤æ€»ç»“**

```bash
# 1. éƒ¨ç½²TokenBank
export RPC_URL="your_rpc" && export PRIVATE_KEY="your_key"
forge script script/TokenBank.s.sol --rpc-url $RPC_URL --private-key $PRIVATE_KEY --verify --broadcast

# 2. æ›´æ–°å‰ç«¯åœ°å€ (åœ¨page.tsxç¬¬11è¡Œ)
const TOKENBANK_ADDRESS = "0xæ–°åœ°å€" as `0x${string}`;

# 3. é‡å¯å‰ç«¯
cd tokenbank-front && npm run dev

# 4. æµ‹è¯•Permit2å­˜æ¬¾ (æµè§ˆå™¨æ“ä½œ)
```

**ç°åœ¨å°±å¼€å§‹éƒ¨ç½²TokenBankå§ï¼** ğŸš€ 