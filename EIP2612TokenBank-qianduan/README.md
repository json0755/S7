# TokenBank - Permit2 å­˜æ¬¾å‰ç«¯

è¿™æ˜¯ä¸€ä¸ªåŸºäºNext.jsçš„TokenBankå‰ç«¯åº”ç”¨ï¼Œæ”¯æŒä½¿ç”¨Permit2è¿›è¡Œæ— gasæˆæƒçš„å­˜æ¬¾æ“ä½œã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”— **é’±åŒ…è¿æ¥**: æ”¯æŒMetaMaskç­‰é’±åŒ…è¿æ¥
- ğŸ’° **ä½™é¢æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºTokenå’ŒTokenBankä½™é¢
- ğŸ“¥ **æ ‡å‡†å­˜æ¬¾**: ä¼ ç»Ÿçš„æˆæƒ+å­˜æ¬¾æµç¨‹
- âš¡ **Permit2å­˜æ¬¾**: ä½¿ç”¨Permit2ç­¾åè¿›è¡Œæ— gasæˆæƒçš„å­˜æ¬¾
- ğŸ“¤ **æç°åŠŸèƒ½**: å°†TokenBankä»½é¢å…‘æ¢å›Token
- ğŸ¨ **ç¾è§‚ç•Œé¢**: ä½¿ç”¨Ant Designå’ŒTailwind CSSæ„å»ºçš„ç°ä»£åŒ–ç•Œé¢

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 15.4.2
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS + Ant Design
- **åŒºå—é“¾**: Wagmi + Viem + Ethers.js
- **çŠ¶æ€ç®¡ç†**: React Query

## åˆçº¦åœ°å€

- **Token**: `0x7f857f3b32b284370d56dcbd61e2563e650a649a`
- **TokenBank**: `0x84133840149C3dd3B4E092ADF29f76352f6f6A59`
- **Permit2**: `0x000000000022D473030F116dDEE9F6B43aC78BA3`

## å®‰è£…å’Œè¿è¡Œ

1. å®‰è£…ä¾èµ–:
```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨:
```bash
npm run dev
# æˆ–
yarn dev
# æˆ–
pnpm dev
```

3. æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

## ä½¿ç”¨è¯´æ˜

1. **è¿æ¥é’±åŒ…**: ç‚¹å‡»"è¿æ¥é’±åŒ…"æŒ‰é’®è¿æ¥MetaMask
2. **æŸ¥çœ‹ä½™é¢**: è¿æ¥åä¼šè‡ªåŠ¨æ˜¾ç¤ºTokenå’ŒTokenBankä½™é¢
3. **æ ‡å‡†å­˜æ¬¾**: 
   - è¾“å…¥å­˜æ¬¾é‡‘é¢
   - ç‚¹å‡»"æ ‡å‡†å­˜æ¬¾"
   - éœ€è¦å…ˆæˆæƒTokenï¼Œç„¶åæ‰§è¡Œå­˜æ¬¾
4. **Permit2å­˜æ¬¾**:
   - è¾“å…¥å­˜æ¬¾é‡‘é¢
   - ç‚¹å‡»"Permit2å­˜æ¬¾"
   - ä½¿ç”¨ç­¾åè¿›è¡Œæ— gasæˆæƒçš„å­˜æ¬¾
5. **æç°**: 
   - è¾“å…¥æç°é‡‘é¢
   - ç‚¹å‡»"æç°"
   - å°†TokenBankä»½é¢å…‘æ¢å›Token

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ abi/                    # åˆçº¦ABIå®šä¹‰
â”‚   â”œâ”€â”€ EIP2612TokenBank.ts
â”‚   â”œâ”€â”€ EIP2612Token.ts
â”‚   â”œâ”€â”€ Permit2.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ contracts.ts        # åˆçº¦åœ°å€é…ç½®
â”‚   â””â”€â”€ wagmi.ts           # Wagmié…ç½®
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ ethers.ts          # Ethers.jså·¥å…·å‡½æ•°
â””â”€â”€ app/                    # Next.jsåº”ç”¨
    â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
    â”œâ”€â”€ page.tsx           # ä¸»é¡µé¢
    â”œâ”€â”€ providers.tsx      # æä¾›è€…ç»„ä»¶
    â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
```

## å¼€å‘è¯´æ˜

### Permit2ç­¾åæµç¨‹

1. ç”Ÿæˆéšæœºnonceå’Œdeadline
2. åˆ›å»ºPermit2ç­¾åæ•°æ®
3. ç”¨æˆ·ç­¾å
4. è°ƒç”¨TokenBankçš„`depositWithPermit2`æ–¹æ³•

### åˆçº¦äº¤äº’

- ä½¿ç”¨Ethers.jsè¿›è¡Œåˆçº¦äº¤äº’
- æ”¯æŒæ ‡å‡†ERC4626å­˜æ¬¾å’ŒPermit2å­˜æ¬¾
- å®æ—¶ä½™é¢æ›´æ–°

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿é’±åŒ…è¿æ¥åˆ°Sepoliaæµ‹è¯•ç½‘
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„Tokenä½™é¢è¿›è¡Œå­˜æ¬¾
- Permit2å­˜æ¬¾éœ€è¦ç”¨æˆ·ç­¾åï¼Œè¯·ç¡®ä¿é’±åŒ…å¯ç”¨
- æ‰€æœ‰æ“ä½œéƒ½åœ¨Sepoliaæµ‹è¯•ç½‘ä¸Šè¿›è¡Œ

## è®¸å¯è¯

MIT License 