# ğŸš€ Sepoliaå®Œæ•´éƒ¨ç½²æŒ‡å—

## âœ… **å½“å‰çŠ¶æ€**

### **å·²å®Œæˆ**
- âœ… **Permit2éƒ¨ç½²æˆåŠŸ** - `0x769DA7B0919FF7ADe64bc556B2f52b434E11E82c`
- âœ… **é…ç½®æ–‡ä»¶æ›´æ–°** - å‰ç«¯å’Œè„šæœ¬å·²æ›´æ–°åœ°å€
- âœ… **è„šæœ¬æƒé™ä¿®å¤** - æ–‡ä»¶å†™å…¥é—®é¢˜å·²è§£å†³

### **å¾…å®Œæˆ**
- ğŸ”„ **TokenBankéƒ¨ç½²** - ä½¿ç”¨æ–°Permit2åœ°å€
- ğŸ”„ **å‰ç«¯åœ°å€æ›´æ–°** - æ›´æ–°TokenBankåœ°å€
- ğŸ”„ **ç«¯åˆ°ç«¯æµ‹è¯•** - éªŒè¯Permit2åŠŸèƒ½

## ğŸ¯ **ç¬¬ä¸€æ­¥ï¼šéƒ¨ç½²TokenBank**

### **è®¾ç½®ç¯å¢ƒå˜é‡**
```bash
export RPC_URL="https://sepolia.infura.io/v3/YOUR_API_KEY"  # æˆ–å…¶ä»–RPC
export PRIVATE_KEY="YOUR_PRIVATE_KEY"
```

### **æ‰§è¡ŒTokenBankéƒ¨ç½²**
```bash
forge script script/TokenBank.s.sol \
  --rpc-url $RPC_URL \
  --private-key $PRIVATE_KEY \
  --verify --broadcast -vvv
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… TokenBank address: 0x...
âœ… Token address: 0xE265E00480d1d97DAdc98a1DA688e9B016308987
âœ… Permit2 address: 0x769DA7B0919FF7ADe64bc556B2f52b434E11E82c
```

## ğŸ¯ **ç¬¬äºŒæ­¥ï¼šæ›´æ–°å‰ç«¯é…ç½®**

### **æ›´æ–°TokenBankåœ°å€**
åœ¨ `tokenbank-front/src/app/page.tsx` ä¸­æ›´æ–°ï¼š
```javascript
// ç¬¬14è¡Œå·¦å³ï¼Œæ›´æ–°ä¸ºæ–°éƒ¨ç½²çš„TokenBankåœ°å€
const TOKENBANK_ADDRESS = "0xæ–°éƒ¨ç½²çš„TokenBankåœ°å€" as const;
```

### **éªŒè¯é…ç½®æ­£ç¡®æ€§**
å‰ç«¯ä¼šè‡ªåŠ¨éªŒè¯ï¼š
- âœ… TokenBankçš„tokenåœ°å€åŒ¹é…
- âœ… TokenBankçš„permit2åœ°å€åŒ¹é…  
- âœ… ChainIdæ­£ç¡®(11155111)

## ğŸ¯ **ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•Permit2åŠŸèƒ½**

### **å¯åŠ¨å‰ç«¯**
```bash
cd tokenbank-front
npm run dev
```

### **è¿æ¥MetaMask**
- ç½‘ç»œï¼šSepolia Testnet
- è´¦æˆ·ï¼šæœ‰Sepolia ETHå’ŒTokençš„è´¦æˆ·

### **æµ‹è¯•æµç¨‹**
1. **ä¼ ç»Ÿå­˜æ¬¾** - éªŒè¯åŸºç¡€åŠŸèƒ½ âœ…
2. **EIP-2612å­˜æ¬¾** - éªŒè¯PermitåŠŸèƒ½ âœ…  
3. **Permit2å­˜æ¬¾** - é‡ç‚¹æµ‹è¯•ï¼ğŸ¯

## ğŸ§ª **Permit2æµ‹è¯•æ£€æŸ¥é¡¹**

### **æˆæƒé˜¶æ®µ**
- âœ… æ˜¾ç¤º"éœ€è¦Permit2æˆæƒ"
- âœ… ç‚¹å‡»æˆæƒæˆåŠŸ
- âœ… çŠ¶æ€å˜ä¸º"å·²æˆæƒ"

### **å­˜æ¬¾é˜¶æ®µ**  
- âœ… ç”Ÿæˆæ­£ç¡®çš„nonce (bitmapç®—æ³•)
- âœ… ç­¾åæˆåŠŸç”Ÿæˆ
- âœ… äº¤æ˜“æäº¤æˆåŠŸ
- âœ… ä½™é¢æ­£ç¡®æ›´æ–°

### **é”™è¯¯ç›‘æ§**
å¦‚æœé‡åˆ°é—®é¢˜ï¼Œæ£€æŸ¥æ§åˆ¶å°æ—¥å¿—ï¼š
```javascript
// åº”è¯¥çœ‹åˆ°è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯
âœ… ChainIdéªŒè¯é€šè¿‡
âœ… åˆçº¦é…ç½®éªŒè¯é€šè¿‡  
âœ… Permit2ç­¾åå‚æ•°æ­£ç¡®
âœ… äº¤æ˜“hash: 0x...
```

## ğŸ” **æ•…éšœæ’é™¤**

### **å¸¸è§é—®é¢˜**

#### **1. TokenBankéƒ¨ç½²å¤±è´¥**
- æ£€æŸ¥RPC URLæ˜¯å¦æ­£ç¡®
- ç¡®ä¿ç§é’¥æœ‰è¶³å¤Ÿçš„Sepolia ETH
- ç¡®è®¤Tokenåœ°å€æ­£ç¡®

#### **2. å‰ç«¯è¿æ¥é—®é¢˜**
- ç¡®ä¿MetaMaskè¿æ¥åˆ°Sepolia
- åˆ·æ–°é¡µé¢é‡æ–°è¿æ¥
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

#### **3. Permit2ç­¾åå¤±è´¥**
- ç¡®è®¤ç”¨æˆ·æœ‰è¶³å¤Ÿçš„Tokenä½™é¢
- æ£€æŸ¥nonceæ˜¯å¦æ­£ç¡®ç”Ÿæˆ
- éªŒè¯ç­¾åå‚æ•°æ ¼å¼

### **è°ƒè¯•å·¥å…·**

#### **EtherscanéªŒè¯**
- TokenBank: `https://sepolia.etherscan.io/address/0xæ–°åœ°å€`
- Permit2: `https://sepolia.etherscan.io/address/0x769DA7B0919FF7ADe64bc556B2f52b434E11E82c`

#### **åˆçº¦è°ƒç”¨æµ‹è¯•**
```bash
# æŸ¥è¯¢TokenBankçš„permit2åœ°å€
cast call 0xæ–°TokenBankåœ°å€ "permit2()" --rpc-url $RPC_URL

# åº”è¯¥è¿”å›: 0x769da7b0919ff7ade64bc556b2f52b434e11e82c
```

## ğŸ‰ **æˆåŠŸæŒ‡æ ‡**

å½“çœ‹åˆ°ä»¥ä¸‹çŠ¶æ€æ—¶ï¼Œè¡¨ç¤ºå®Œå…¨æˆåŠŸï¼š

### **éƒ¨ç½²æˆåŠŸ**
- âœ… TokenBankéƒ¨ç½²å®Œæˆ
- âœ… åˆçº¦éªŒè¯é€šè¿‡
- âœ… å‰ç«¯æ˜¾ç¤ºæ­£ç¡®åœ°å€

### **åŠŸèƒ½æˆåŠŸ**
- âœ… ä¸‰ç§å­˜æ¬¾æ–¹å¼éƒ½æ­£å¸¸å·¥ä½œ
- âœ… Permit2ç­¾åå­˜æ¬¾æˆåŠŸå®Œæˆ
- âœ… æ§åˆ¶å°æ— é”™è¯¯ä¿¡æ¯
- âœ… ä½™é¢æ­£ç¡®æ›´æ–°

## ğŸ† **æœ€ç»ˆéªŒè¯**

### **ç«¯åˆ°ç«¯æµ‹è¯•**
1. æ‰“å¼€ `http://localhost:3000`
2. è¿æ¥MetaMask (Sepoliaç½‘ç»œ)
3. é€‰æ‹©"Permit2ç­¾åå­˜æ¬¾"
4. è¾“å…¥å­˜æ¬¾é‡‘é¢ (å¦‚100)
5. ç‚¹å‡»"å­˜æ¬¾" 
6. **ç¬¬ä¸€æ¬¡ï¼šæˆæƒPermit2** âœ…
7. **è‡ªåŠ¨è¿›è¡Œï¼šç­¾å+å­˜æ¬¾** âœ…
8. **éªŒè¯ä½™é¢æ›´æ–°** âœ…

**çœ‹åˆ°ä½™é¢å¢åŠ  = ğŸ‰ å®Œå…¨æˆåŠŸï¼**

---

## ğŸ“‹ **å¿«é€Ÿå‘½ä»¤æ€»ç»“**

```bash
# 1. éƒ¨ç½²TokenBank
export RPC_URL="your_sepolia_rpc"
export PRIVATE_KEY="your_private_key"
forge script script/TokenBank.s.sol --rpc-url $RPC_URL --private-key $PRIVATE_KEY --verify --broadcast

# 2. å¯åŠ¨å‰ç«¯
cd tokenbank-front && npm run dev

# 3. æµ‹è¯•Permit2å­˜æ¬¾
# (åœ¨æµè§ˆå™¨ä¸­æ“ä½œ)
```

ç°åœ¨ä½ æœ‰äº†ä¸€ä¸ª**å®Œå…¨å¯æ§çš„Permit2ç³»ç»Ÿ**ï¼

æ— è®ºæ˜¯æœ¬åœ°è°ƒè¯•è¿˜æ˜¯Sepoliaæµ‹è¯•ï¼Œéƒ½èƒ½å®Œç¾è¿è¡Œï¼ğŸš€ 